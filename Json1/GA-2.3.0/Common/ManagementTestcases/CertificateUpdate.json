[
    {
        "TC ID": "",
        "Scenario / Category": "Self-signed Certificates",
        "Test Description": "",
        "Automation TC Name": "",
        "Release": "",
        "Build No": "",
        "Results": "",
        "Bug no ": "",
        "Expected Behaviour": "",
        "Notes / Detailed Description": ""
    },
    {
        "TC ID": "M_CertUpdate_1.0",
        "Scenario / Category": "",
        "Test Description": "Update the certificate. Kubectl commands should work without login after the certifictaes are updated.",
        "Automation TC Name": "",
        "Release": "GA-2.3.0",
        "Build No": "2.3.0-9",
        "Results": "Pass",
        "Bug no ": "",
        "Expected Behaviour": "1.Create a cluster with self-signed ceritificate.(eg using burntest).\n2.dctl cluster update certificate --ca-cert <absolute-path> --server-cert <absolute-path> --server-key <absolute path>  ",
        "Notes / Detailed Description": "Note: Check the kubectl commands from all nodes of the cluster before login to cluster.It should work."
    },
    {
        "TC ID": "M_CertUpdate_1.1",
        "Scenario / Category": "",
        "Test Description": "1.Update the certificate. Login to the cluster and check the dctl commands. It should work.\n\n2.Reboot master(Or configure master to other node).After master shifts to other etcd node check kubectl and dctl commands without logging in again after cert update. Both kubectl and dctl commands should work.\n\n3.Once master shifts to other node, update certificates again. Check the above  cases again.",
        "Automation TC Name": "",
        "Release": "GA-2.3.0",
        "Build No": "2.3.0-9",
        "Results": "Pass",
        "Bug no ": "",
        "Expected Behaviour": "",
        "Notes / Detailed Description": "After certificate update need to login from controller as well as all the nodes of cluster to test the scenarios "
    },
    {
        "TC ID": "M_CertUpdate_1.2",
        "Scenario / Category": "Quorum Add",
        "Test Description": "Remove quorum node from cluster. Update certificate then add the quorum node to the cluster. Login from that node.And check the dctl/kubectl commands. ",
        "Automation TC Name": "",
        "Release": "GA-2.3.0",
        "Build No": "2.3.0-9",
        "Results": "Pass",
        "Bug no ": "",
        "Expected Behaviour": "dctl commands will not work before login.",
        "Notes / Detailed Description": ""
    },
    {
        "TC ID": "M_CertUpdate_1.3",
        "Scenario / Category": "Node Add",
        "Test Description": "After updating the certificates, add a new node to the cluster. Login from that node.  And check the dctl commands. ",
        "Automation TC Name": "",
        "Release": "GA-2.3.0",
        "Build No": "2.3.0-9",
        "Results": "Pass",
        "Bug no ": "",
        "Expected Behaviour": "",
        "Notes / Detailed Description": ""
    },
    {
        "TC ID": "",
        "Scenario / Category": "User provided Certificates",
        "Test Description": "",
        "Automation TC Name": "",
        "Release": "",
        "Build No": "",
        "Results": "",
        "Bug no ": "",
        "Expected Behaviour": "",
        "Notes / Detailed Description": ""
    },
    {
        "TC ID": "M_CertUpdate_2.0",
        "Scenario / Category": "",
        "Test Description": "Update the certificate. Kubectl commands should work without login after the certificates are updated.And dctl commands will require login after certificate upadate, to work.",
        "Automation TC Name": "",
        "Release": "GA-2.3.0",
        "Build No": "2.3.0-14",
        "Results": "Pass",
        "Bug no ": "",
        "Expected Behaviour": "1.Create a cluster with user-provided ceritificate.(eg using cfg file which has the certs).\n2.dctl cluster update certificate --ca-cert <absolute-path> --server-cert <absolute-path> --server-key <absolute path>  ",
        "Notes / Detailed Description": ""
    },
    {
        "TC ID": "M_CertUpdate_2.1",
        "Scenario / Category": "",
        "Test Description": "1.Update the certificate. Login to the cluster and check the dctl commands. It should work.\n\n2.Reboot master(Or configure master to other node).After master shifts to other etcd node check kubectl and dctl commands without logging in again after cert update. Both kubectl and dctl commands should work.\n\n3.Once master shifts to other node, update certificates again. Check the above cases again.",
        "Automation TC Name": "",
        "Release": "GA-2.3.0",
        "Build No": "2.3.0-14",
        "Results": "Pass",
        "Bug no ": "",
        "Expected Behaviour": "",
        "Notes / Detailed Description": "1.Create some iperf and fio pods.\n2.Check dctl get commands.\n3. Check kubectl commands.\n4.Delete pods."
    },
    {
        "TC ID": "M_CertUpdate_2.2",
        "Scenario / Category": "Quorum Add",
        "Test Description": "After updating the certificates, add a new quorum node to the cluster. Login from that node.And check the dctl commands. ",
        "Automation TC Name": "",
        "Release": "GA-2.3.0",
        "Build No": "2.3.0-14",
        "Results": "Pass",
        "Bug no ": "",
        "Expected Behaviour": "",
        "Notes / Detailed Description": "No need to do this again for user provided certificates"
    },
    {
        "TC ID": "M_CertUpdate_2.3",
        "Scenario / Category": "Node Add",
        "Test Description": "After updating the certificates, add a new node to the cluster. Login from that node.  And check the dctl commands. ",
        "Automation TC Name": "",
        "Release": "GA-2.3.0",
        "Build No": "2.3.0-14",
        "Results": "Pass",
        "Bug no ": "",
        "Expected Behaviour": "",
        "Notes / Detailed Description": "No need to do this again for user provided certificates"
    },
    {
        "TC ID": "",
        "Scenario / Category": "",
        "Test Description": "",
        "Automation TC Name": "",
        "Release": "",
        "Build No": "",
        "Results": "",
        "Bug no ": "",
        "Expected Behaviour": "",
        "Notes / Detailed Description": "will add the location of script diamanti-replace-certs :Tanya"
    },
    {
        "TC ID": "M_CertReplace_1.0",
        "Scenario / Category": "Replacing Expired certificates for self-signed ",
        "Test Description": "Replace expired certificate using script (diamanti-replace-certs.sh), kubectl should work without logging. Login to cluster after certificate update, check dctl commands. It should work.",
        "Automation TC Name": "",
        "Release": "GA-2.3.0",
        "Build No": "2.3.0-65",
        "Results": "Pass",
        "Bug no ": "",
        "Expected Behaviour": "",
        "Notes / Detailed Description": "How to expire the certificates ?\n:Tanya"
    },
    {
        "TC ID": "M_CertReplace_1.1",
        "Scenario / Category": "",
        "Test Description": "After replacing the certificates using script, update the certficates using <dctl cluster update certificate> command. Kubectl commands should work without login and dctl commands should work after login.",
        "Automation TC Name": "",
        "Release": "GA-2.3.0",
        "Build No": "2.3.0-65",
        "Results": "Pass",
        "Bug no ": "",
        "Expected Behaviour": "",
        "Notes / Detailed Description": "The cluster name and poddns names need to match with the ones in the certificate. Only then the update works with the dctl command.\n\n[diamanti@appserv76 ~]$ dctl -s 172.16.19.61 login -u admin -p Diamanti@111\nName                : mycluster\nVirtual IP        : 172.16.19.61\nServer                 : mycluster.eng.diamanti.com\nWARNING: Thumbprint : 76 f3 93 74 77 a7 14 ed 4e b7 c2 d2 bd e7 92 96 88 30 63 0b 99 c5 e3 d9 12 66 47 b0 5e 69 7f 4d \n[CN:D10 CA 20191209233034, OU:[CA], O=[Diamanti] issued by CN:D10 CA 20191209233034, OU:[CA], O=[Diamanti]]\nConfiguration written successfully\nSuccessfully logged in\n[diamanti@appserv76 ~]$\n[diamanti@appserv76 ~]$ dctl cluster update certificate --ca-cert sample_certs1/ca.crt --server-key sample_certs1/server.key --server-cert sample_certs1/server.crt\nError from server: failed to verify certificate: x509: certificate is valid for autotb11.eng.diamanti.com, autotb11, not mycluster.eng.diamanti.com\n[diamanti@appserv76 ~]$\n\n[diamanti@appserv76 ~]$ dctl -s 172.16.19.61 login -u admin -p Diamanti@111Name                : autotb11\nVirtual IP        : 172.16.19.61\nServer                 : autotb11.eng.diamanti.com\nWARNING: Thumbprint : f4 5c 65 00 51 9d 79 c7 35 46 83 33 7c 4e 43 7f 17 6b 67 ee 60 f3 7f ea 5e f9 6d e6 ec 87 ca c0 \n[CN:diamanti-signer@1575976567, OU:[], O=[] issued by CN:diamanti-signer@1575976567, OU:[], O=[]]\nConfiguration written successfully\nSuccessfully logged in\n[diamanti@appserv76 ~]$ dctl cluster update certificate --ca-cert sample_certs2/ca.crt --server-key sample_certs2/server.key --server-cert sample_certs2/server.crt\nCertificate updation succeeded\n[diamanti@appserv76 ~]$\n"
    },
    {
        "TC ID": "",
        "Scenario / Category": "",
        "Test Description": "",
        "Automation TC Name": "",
        "Release": "",
        "Build No": "",
        "Results": "",
        "Bug no ": "",
        "Expected Behaviour": "",
        "Notes / Detailed Description": ""
    },
    {
        "TC ID": "M_CertReplace_2.0",
        "Scenario / Category": "Replacing Expired certificates for User provided",
        "Test Description": "Replace expired certificate using script (diamanti-replace-certs.sh), kubectl should work without logging. Login to cluster after certificate update, check dctl commands. It should work.",
        "Automation TC Name": "",
        "Release": "GA-2.3.0",
        "Build No": "2.3.0-64",
        "Results": "Pass",
        "Bug no ": "",
        "Expected Behaviour": "",
        "Notes / Detailed Description": "How to expire the certificates ?\n:Tanya"
    },
    {
        "TC ID": "M_CertReplace_2.1",
        "Scenario / Category": "",
        "Test Description": "After replacing the certificates using script, update the certficates using <dctl cluster update certificate> command. Kubectl commands should work without login and dctl commands should work after login.",
        "Automation TC Name": "",
        "Release": "GA-2.3.0",
        "Build No": "2.3.0-64",
        "Results": "Pass",
        "Bug no ": "",
        "Expected Behaviour": "",
        "Notes / Detailed Description": ""
    },
    {
        "TC ID": "",
        "Scenario / Category": "",
        "Test Description": "",
        "Automation TC Name": "",
        "Release": "",
        "Build No": "",
        "Results": "",
        "Bug no ": "",
        "Expected Behaviour": "",
        "Notes / Detailed Description": ""
    },
    {
        "TC ID": "M_CertNegative_1.0",
        "Scenario / Category": "Negative Scenarios",
        "Test Description": "Provide empty files for the three options(Try different combination for all three options)\n1. --ca-cert <absolute-path> \n2. --server-cert <absolute-path> \n3. --server-key <absolute path>",
        "Automation TC Name": "",
        "Release": "GA-2.3.0",
        "Build No": "2.3.0-7",
        "Results": "Pass",
        "Bug no ": "",
        "Expected Behaviour": "dctl cluster update certificate command should fail with proper message.",
        "Notes / Detailed Description": "Note: All the three options are mandatory\n1. --ca-cert <absolute-path> \n2. --server-cert <absolute-path> \n3. --server-key <absolute path>"
    },
    {
        "TC ID": "M_CertNegative_1.1",
        "Scenario / Category": "",
        "Test Description": "Provide invalid cerificates for the three options (Try different combinations of all the certs)\n1. --ca-cert <absolute-path> \n2. --server-cert <absolute-path> \n3. --server-key <absolute path>",
        "Automation TC Name": "",
        "Release": "GA-2.3.0",
        "Build No": "2.3.0-9",
        "Results": "Pass",
        "Bug no ": "",
        "Expected Behaviour": "",
        "Notes / Detailed Description": ""
    },
    {
        "TC ID": "M_CertNegative_1.2",
        "Scenario / Category": "",
        "Test Description": "Skip one/two of the three options (Try different combinations of all the option)\n1. --ca-cert <absolute-path> \n2. --server-cert <absolute-path> \n3. --server-key <absolute path>",
        "Automation TC Name": "",
        "Release": "GA-2.3.0",
        "Build No": "2.3.0-7",
        "Results": "Pass",
        "Bug no ": "",
        "Expected Behaviour": "",
        "Notes / Detailed Description": ""
    },
    {
        "TC ID": "M_CertNegative_1.3",
        "Scenario / Category": "",
        "Test Description": "Stop convoy service on master and run dctl cluster update certificate command. It should fail with proper message",
        "Automation TC Name": "",
        "Release": "GA-2.3.0",
        "Build No": "2.3.0-14",
        "Results": "Pass",
        "Bug no ": "",
        "Expected Behaviour": "",
        "Notes / Detailed Description": ""
    },
    {
        "TC ID": "",
        "Scenario / Category": "",
        "Test Description": "",
        "Automation TC Name": "",
        "Release": "",
        "Build No": "",
        "Results": "",
        "Bug no ": "",
        "Expected Behaviour": "",
        "Notes / Detailed Description": ""
    },
    {
        "TC ID": "",
        "Scenario / Category": "",
        "Test Description": "",
        "Automation TC Name": "",
        "Release": "",
        "Build No": "",
        "Results": "",
        "Bug no ": "",
        "Expected Behaviour": "",
        "Notes / Detailed Description": ""
    },
    {
        "TC ID": "",
        "Scenario / Category": "",
        "Test Description": "",
        "Automation TC Name": "",
        "Release": "",
        "Build No": "",
        "Results": "",
        "Bug no ": "",
        "Expected Behaviour": "",
        "Notes / Detailed Description": ""
    },
    {
        "TC ID": "",
        "Scenario / Category": "",
        "Test Description": "",
        "Automation TC Name": "Total",
        "Release": 16.0,
        "Build No": "",
        "Results": "",
        "Bug no ": "",
        "Expected Behaviour": "",
        "Notes / Detailed Description": ""
    },
    {
        "TC ID": "",
        "Scenario / Category": "",
        "Test Description": "",
        "Automation TC Name": "Ran",
        "Release": 16.0,
        "Build No": "",
        "Results": "",
        "Bug no ": "",
        "Expected Behaviour": "",
        "Notes / Detailed Description": ""
    },
    {
        "TC ID": "",
        "Scenario / Category": "",
        "Test Description": "",
        "Automation TC Name": "%",
        "Release": 100.0,
        "Build No": "",
        "Results": "",
        "Bug no ": "",
        "Expected Behaviour": "",
        "Notes / Detailed Description": ""
    },
    {
        "TC ID": "",
        "Scenario / Category": "",
        "Test Description": "",
        "Automation TC Name": "Pass",
        "Release": 0.0,
        "Build No": "",
        "Results": "",
        "Bug no ": "",
        "Expected Behaviour": "",
        "Notes / Detailed Description": ""
    },
    {
        "TC ID": "",
        "Scenario / Category": "",
        "Test Description": "",
        "Automation TC Name": "%",
        "Release": 0.0,
        "Build No": "",
        "Results": "",
        "Bug no ": "",
        "Expected Behaviour": "",
        "Notes / Detailed Description": ""
    },
    {
        "TC ID": "",
        "Scenario / Category": "",
        "Test Description": "",
        "Automation TC Name": "Automated",
        "Release": 0.0,
        "Build No": "",
        "Results": "",
        "Bug no ": "",
        "Expected Behaviour": "",
        "Notes / Detailed Description": ""
    },
    {
        "TC ID": "",
        "Scenario / Category": "",
        "Test Description": "",
        "Automation TC Name": "%",
        "Release": 0.0,
        "Build No": "",
        "Results": "",
        "Bug no ": "",
        "Expected Behaviour": "",
        "Notes / Detailed Description": ""
    }
]